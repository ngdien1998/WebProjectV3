<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Sửa bài viết</title>
    <!-- plugins:css -->
    <link rel="stylesheet" href="assests/node_modules/mdi/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="assests/node_modules/flag-icon-css/css/flag-icon.min.css">
    <link rel="stylesheet" href="assests/node_modules/perfect-scrollbar/css/perfect-scrollbar.css">
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <link rel="stylesheet" href="assests/css/style.css">
    <!-- endinject -->
    <link rel="shortcut icon" href="assests/images/favicon.png"/>
    <script src="assests/js/ckeditor/ckeditor.js" type="text/javascript"></script>
    <script src="assests/js/ckfinder/ckfinder.js" type="text/javascript"></script>
</head>

<body style="background: #F6F8FA;">
<div class="container">
    <div class="content-wrapper">
        <div class="card">
            <div class="card-body">
                <h3 class="card-title">Sửa bài viết: "Nhượng quyền và mở chuỗi - Ngã rẽ không dễ chọn khi kinh doanh thực phẩm sạch"</h3>
                <p class="card-description">Vui lòng nhập đầy đủ thông tin yêu cầu</p>
                <form>
                    <div class="form-group">
                        <label for="ten-bai-viet">Tên bài viết (bắt buộc)</label>
                        <input type="text" placeholder="Tên bài viết" name="txtTenBaiViet" class="form-control"
                                id="ten-bai-viet" value="Nhượng quyền và mở chuỗi - Ngã rẽ không dễ chọn khi kinh doanh thực phẩm sạch" />
                        <small class="text-danger" id="validate-ten-bai-viet"></small>
                    </div>
                    <div class="form-group">
                        <label for="mo-ta">Mô tả bài viết</label>
                        <input type="text" placeholder="Mô tả bài viết" name="txtMoTa" class="form-control" id="mo-ta" value="Thương hiệu thực phẩm sạch Bác Tôm chọn nhượng quyền thương hiệu để phủ thị trường, còn “ông lớn” Sói Biển tự mở chuỗi nhằm tiếp cận nhiều khách hàng hơn."/>
                    </div>
                    <div class="form-group">
                        <label for="noi-dung">Nội dung bài viết (bắt buộc)</label>
                        <textarea class="editorPost" id="noi-dung" name="txtNoiDung"></textarea>
                        <script type="text/javascript">
                            let editor = CKEDITOR.replace("noi-dung");
                            CKFinder.setupCKEditor(editor, "assests/js/ckfinder/");
                        </script>
                        <small class="text-danger" id="validate-noi-dung"></small>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-2">
                            <label for="nguoi-hien-tai">Người viết bài này là</label>
                            <div class="form-check form-check-flat">
                                <label class="form-check-label">
                                    <input type="checkbox" class="form-check-input" id="nguoi-hien-tai" name="chkNguoiDungHienTai">
                                    Người dùng hiện tại
                                </label>
                            </div>
                        </div>
                        <div class="form-group col-10">
                            <label for="nguoi-viet">Chọn người viết bài (bắt buộc)</label>
                            <select class="form-control border-primary" id="nguoi-viet" name="cmbNguoiViet">
                                <option value="-1">Chọn người viết</option>
                                <option value="ngdien1888@gmail.com" selected>Nguyễn Lê Điền</option>
                                <option value="">Nguyễn Trường Tráng</option>
                                <option value="">Phạm Gia Thịnh</option>
                            </select>
                            <small class="text-danger" id="validate-nguoi-viet"></small>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group col-2">
                            <label for="thoi-gian-hien-tai">Bài này được viết tại</label>
                            <div class="form-check form-check-flat">
                                <label class="form-check-label">
                                    <input disabled type="checkbox" class="form-check-input" name="chkThoiGianHienTai" id="thoi-gian-hien-tai">
                                    Thời gian hiện tại
                                </label>
                            </div>
                        </div>
                        <div class="form-group col-10">
                            <label for="thoi-gian">Chọn thời gian viết bài (bắt buộc)</label>
                            <input type="date" name="txtThoiGian" id="thoi-gian" class="form-control" value="10/06/2018" readonly />
                            <small class="text-danger" id="validate-ngay-viet"></small>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="loai-bai-viet">Chọn loại bài viết</label>
                        <select class="form-control border-primary" id="loai-bai-viet" name="cmbLoaiBaiViet">
                            <option value="-1">Chọn loại bài viết</option>
                            <option value="1" selected>Tin tức thị trường</option>
                            <option value="2">Ẩm thực</option>
                            <option value="3">Nhà hàng</option>
                        </select>
                        <small class="text-danger" id="validate-loai-bai-viet"></small>
                    </div>
                    <div class="form-row justify-content-center">
                        <input type="submit" value="Sửa bài viết" class="btn btn-primary btn-rounded" id="btn-submit" />
                        <a href="admin-bai-viet.html" class="btn btn-success btn-rounded" style="margin-left: 16px;">Về trang chủ</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- container-scroller -->
<!-- plugins:js -->
<script src="assests/node_modules/jquery/dist/jquery.min.js"></script>
<script src="assests/node_modules/popper.js/dist/umd/popper.min.js"></script>
<script src="assests/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="assests/node_modules/perfect-scrollbar/dist/perfect-scrollbar.min.js"></script>
<script src="assests/js/off-canvas.js"></script>
<script src="assests/js/hoverable-collapse.js"></script>
<script src="assests/js/misc.js"></script>
<script src="assests/js/settings.js"></script>
<script src="assests/js/todolist.js"></script>
<!-- endinject -->
<!-- Custom js for this page-->
<script src="assests/js/editorDemo.js"></script>
<!-- End custom js for this page-->
<script type="text/javascript">
    $("#nguoi-hien-tai").change(() => {
        let isChecked = $("#nguoi-hien-tai").is(":checked");
        if (isChecked) {
            $("#nguoi-viet").attr("disabled", "disabled");
        } else {
            $("#nguoi-viet").removeAttr("disabled");
        }
    });

    $("#thoi-gian-hien-tai").change(() => {
        let isChecked = $("#thoi-gian-hien-tai").is(":checked");
        if (isChecked) {
            $("#thoi-gian").attr("disabled", "disabled");
        } else {
            $("#thoi-gian").removeAttr("disabled");
        }
    });

    function validateForTenBaiViet() {
        let value = $("#ten-bai-viet").val();
        if (value === "") {
            $("#validate-ten-bai-viet").html("Bạn chưa nhập tên bài viết");
            return false;
        }
        $("#validate-ten-bai-viet").html("");
        return true;
    }

    $("#ten-bai-viet").blur(() => validateForTenBaiViet());

    function validateForNoiDung() {
        let value = CKEDITOR.instances["noi-dung"].getData();
        if (value === "") {
            $("#validate-noi-dung").html("Bạn chưa nhập nội dung bài viết");
            return false;
        }
        $("#validate-noi-dung").html("");
        return true;
    }

    $("#noi-dung").blur(() => validateForNoiDung());

    function validateForNguoiViet() {
        let value = $("#nguoi-viet").val();
        if (!$("#nguoi-hien-tai").is(":checked")) {
            if (value === -1 || value === "-1") {
                $("#validate-nguoi-viet").html("Bạn chưa chọn người viết bài");
                return false;
            }
        }
        $("#validate-ngay-viet").html("");
        return true;
    }

    $("#nguoi-viet").change(() => validateForNguoiViet());

    $("#thoi-gian").blur(() => validateForNgayViet());

    function validateForLoaiBaiViet() {
        let value = $("#loai-bai-viet").val();
        if (value === -1 || value === "-1") {
            $("#validate-loai-bai-viet").html("Bạn chưa chọn loại bài viết");
            return false;
        }
        $("#validate-loai-bai-viet").html("");
        return true;
    }

    $("#loai-bai-viet").change(() => validateForLoaiBaiViet());

    $("#btn-submit").click(() => {
        let res = validateForTenBaiViet() & validateForNoiDung() & validateForNguoiViet() & validateForLoaiBaiViet();
        if (res === 0) {
            return false;
        }
        return true;
    });
</script>
</body>
</html>